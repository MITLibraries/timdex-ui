<form id="search-form" action="<%= results_path %>" method="get" role="search">
  <h3>What can we help you find?</h3>
  <div class="form-wrapper">
    <input id="basic-search-main" type="search" class="field field-text basic-search-input" name="q" title="Keyword anywhere" placeholder="Search for anything" value="<%= params[:q] %>" required>
    <button type="submit" class="btn button-primary">Search</button>
  </div>
</form>

<% if Feature.enabled?(:boolean_picker) %>
  <aside class="panel panel-info">
    <div class="panel-heading">
  <% if cookies[:boolean_type].present? %>
    <p>Your boolean preference for this session is: <%= cookies[:boolean_type] %></p>
  <% else %>
    <p>No preference is set. Default boolean preference (`AND`) is enabled.</p>
  <% end %>
    </div>
    <div class="panel-body">
      <p>Change to:</p>
      <ul>
      <% ENV.fetch('BOOLEAN_OPTIONS', 'AND,OR').split(',').each do |opt| %>
        <li><%= link_to(opt, boolpref_path(boolean_type: opt)) %></li>
      <% end %>
        <li><%= link_to('Clear preference', boolpref_path()) %></li>
      </ul>
    </div>
    </aside>
<% end %>

<%= render partial: 'search/source_tabs' if @results.present? %>

<%= javascript_include_tag "search_form" %>
