<%= content_for(:title, "Search Results | MIT Libraries") %>

<div class="space-wrap">

  <p><%= t('.results_for') %>
      <ul>
        <% if @enhanced_query[:q].present? %>
          <li><%= t('.q') %> <%= @enhanced_query[:q] %></li>
        <% end %>
        <% if @enhanced_query[:citation].present? %>
          <li><%= t('.citation') %> <%= @enhanced_query[:citation] %></li>
        <% end %>
        <% if @enhanced_query[:contentType].present? %>
          <li><%= t('.content_type') %> <%= @enhanced_query[:contentType] %></li>
        <% end %>
        <% if @enhanced_query[:contributors].present? %>
          <li><%= t('.contributors') %> <%= @enhanced_query[:contributors] %></li>
        <% end %>
        <% if @enhanced_query[:fundingInformation].present? %>
          <li><%= t('.funding_information') %> <%= @enhanced_query[:fundingInformation] %></li>
        <% end %>
        <% if @enhanced_query[:identifiers].present? %>
          <li><%= t('.identifiers') %> <%= @enhanced_query[:identifiers] %></li>
        <% end %>
        <% if @enhanced_query[:locations].present? %>
          <li><%= t('.locations') %> <%= @enhanced_query[:locations] %></li>
        <% end %>
        <% if @enhanced_query[:subjects].present? %>
          <li><%= t('.subjects') %> <%= @enhanced_query[:subjects] %></li>
        <% end %>
        <% if @enhanced_query[:title].present? %>
          <li><%= t('.title') %> <%= @enhanced_query[:title] %></li>
        <% end %>
        <% if @enhanced_query[:source].present? %>
          <li><%= t('.source') %> <%= @enhanced_query[:source] %></li>
        <% end %>
      </ul>
  </p>

  <%= render partial: "form" %>

  <div id="hint" aria-live="polite">
    <%= render(partial: 'search/issn') %>
    <%= render(partial: 'search/isbn') %>
    <%= render(partial: 'search/pmid') %>
    <%= render(partial: 'search/doi') %>
  </div>

  <%= render(partial: 'shared/error', collection: @errors) %>

  <div class="layout-1q3q layout-band top-space">
    <div class="col3q wrap-results">
      <ul id="results" class="list-unbulleted">
        <%= render(partial: 'search/result', collection: @results) || render('result_empty') %>
      </ul>
    </div>

    <aside class="col1q facet-container">
      <div id="facets">
        <h2><%= t('.available_filters') %></h2>
        <% @facets&.each do |category, values| %>
          <%= render(partial: 'search/facet', locals: {category: category, values: values}) %>
        <% end %>
      </div>
    </aside>
  </div>

  <div id="pagination">  
    <%= render partial: "pagination" %>
  </div>
</div>
